# go/google3metadata
# proto-file: devtools/metadata/metadata.proto
# proto-message: MetaData

name: "LiteRT library"
language: CPP
description: "Neural newtwork inference engine."

presubmit {
  check_tests: {
    project: "litert"
  }
  # TODO: Re-enable once mtk SDK is available.
  # check_presubmit_service: {
  #   base: {
  #     id: "KokoroAndroidLiteRT"
  #     disable_tags: "NO_SQ"
  #     disable_tags: "SKIP_KOKORO"
  #   }
  #   action: REVIEW
  #   timeout: 300
  #   failure_status: NOTICE
  #   execution_mode: SECONDARY_EXECUTION
  #   include_all_opened_files: true
  #   include_deleted_files: true
  #   registry_id: "kokoro"
  #   options: "job=tensorflow/lite/google3/ubuntu_16/android_litert/presubmit"
  # }
  # check_presubmit_service: {
  #   base: {
  #     id: "KokoroAndroidLiteRT"
  #     disable_tags: "NO_SQ"
  #     disable_tags: "SKIP_KOKORO"
  #   }
  #   action: SUBMIT
  #   streaming: true
  #   timeout: 3600
  #   failure_status: NOTICE
  #   execution_mode: SECONDARY_EXECUTION
  #   include_all_opened_files: true
  #   include_deleted_files: true
  #   registry_id: "kokoro"
  #   options: "job=tensorflow/lite/google3/ubuntu_16/android_litert/presubmit"
  # }
  check_guitar: {
    workflow_query: "//third_party/odml/litert/litert/google/mobile_tests:litert_mobile_tests_workflow"
    base: {
      disable_tags: "SKIP_LITERT_MOBILE_TESTS"
    }
    cluster_name: "litert-cluster"
    failure_status: ERROR  # Submit only if project passes
    submit_execute: true  # Trigger Guitar workflow before submitting
    submit_execute_mode: SYNCHRONOUS  # Submit after project completes
  }
}
